{"version":3,"sources":["components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/MyPosts/AddPostForm/AddPostForm.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/ProfileInfo/Contact/Contact.module.css","components/Profile/ProfileInfo/ProfileDataForm/ProfileDataForm.module.css","components/Profile/ProfileInfo/ProfileData/ProfileData.module.css","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/AddPostForm/AddPostForm.tsx","redux/action-creators/profile.ts","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/ProfileInfo/ProfileStatus.tsx","components/Profile/ProfileInfo/Contact/Contact.tsx","components/Profile/ProfileInfo/ProfileDataForm/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileData/ProfileData.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/Profile.tsx","assets/images/user-avatar.webp"],"names":["module","exports","Post","React","memo","props","className","style","item","avatar","src","img","alt","message","likesCount","id","AddPostForm","initialValues","post","onSubmit","values","setSubmitting","resetForm","validate","errors","length","name","component","placeholder","type","s","error","addPostAC","newPostText","ADD_POST","setProfileStatusAC","status","SET_PROFILE_STATUS","setUserInfoTC","userId","dispatch","a","profileAPI","getProfile","res","userInfo","data","SET_USER_INFO","console","warn","MyPosts","useDispatch","myPosts","posts","map","MyPostsContainer","connect","state","profilePage","addPost","ProfileStatus","editMode","statusValue","activateEditMode","setState","deactivateEditMode","handleProfileStatusUpdate","handleChange","e","currentTarget","value","prevProps","prevState","this","autoFocus","onBlur","onChange","onDoubleClick","PureComponent","Contact","isEditModeOn","fieldName","formik","getFieldProps","Button","link","href","target","rel","ProfileDataForm","onEditProfileClick","fullName","lookingForAJobDescription","aboutMe","contacts","lookingForAJob","useFormik","getState","auth","updateProfile","resultCode","wrapper","handleSubmit","red","checked","Object","keys","key","ProfileData","description","ProfileInfo","savePhoto","isProfileOwner","photos","useState","setEditMode","useCallback","isPhotosSmallExists","small","avatarDefault","avatarBlock","accept","files","onClick","btn","Preloader","Profile","useTypedSelector","authId","useParams","useEffect","getProfileStatus","getProfileStatusTC","photoFile","setProfileImage","SET_PROFILE_PHOTO","savePhotoTC","updateProfileStatus","updateProfileStatusTC"],"mappings":"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","file":"static/js/3.45c6d178.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__2YdkN\",\"myPosts\":\"MyPosts_myPosts__3WChl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__VCfZb\",\"avatar\":\"Post_avatar__3b1mL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"AddPostForm_error__1c5D7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backgroundImg\":\"ProfileInfo_backgroundImg__zDJmk\",\"wrapper\":\"ProfileInfo_wrapper__3JRwj\",\"name\":\"ProfileInfo_name__1Y5Jv\",\"avatar\":\"ProfileInfo_avatar__yMIdP\",\"description\":\"ProfileInfo_description__35rkD\",\"avatarBlock\":\"ProfileInfo_avatarBlock__2aLem\",\"btn\":\"ProfileInfo_btn__1UQqq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"link\":\"Contact_link__12Nfs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ProfileDataForm_wrapper__2UjCh\",\"red\":\"ProfileDataForm_red__u4ORM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"ProfileData_wrapper__2IhT1\",\"description\":\"ProfileData_description__3gUcb\",\"name\":\"ProfileData_name__3ytuh\"};","import React from 'react';\r\nimport style from './Post.module.css';\r\n\r\ntype PostPropsType = {\r\n    message: string\r\n    likesCount: number\r\n    img: string\r\n    id: string\r\n}\r\n\r\nexport const Post = React.memo((props: PostPropsType) => {\r\n    return (\r\n        <div className={style.item} key={props.id}>\r\n            <img className={style.avatar} src={props.img}\r\n                 alt=\"avatar\"/>\r\n            <span>{props.message}</span>\r\n            <div>\r\n                <span>likes: {props.likesCount}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n});","import React from 'react';\r\nimport {ErrorMessage, Field, Form, Formik, FormikHelpers} from \"formik\";\r\nimport s from './AddPostForm.module.css'\r\n\r\nexport type AddPostFormValues = {\r\n    post: string\r\n}\r\n\r\ntype AddPostFormPropsType = {\r\n    onSubmit: (newMessage: string) => void\r\n}\r\n\r\nexport const AddPostForm = (props: AddPostFormPropsType) => {\r\n\r\n    const addPostFormValidate = (values: AddPostFormValues) => {\r\n        let errors: Partial<AddPostFormValues> = {};\r\n        if (!values.post) {\r\n            errors.post = 'Field is required';\r\n        } else if (values.post.length > 50) {\r\n            errors.post = 'Max Length is 50 symbols';\r\n        }\r\n        return errors\r\n    }\r\n\r\n    const onSubmitHandler = (\r\n        values: AddPostFormValues,\r\n        {setSubmitting, resetForm}: FormikHelpers<AddPostFormValues>\r\n    ) => {\r\n        props.onSubmit(values.post)\r\n        resetForm({values: {post: ''}})\r\n        setSubmitting(false);\r\n    }\r\n\r\n    return (\r\n        <Formik\r\n            initialValues={{\r\n                post: '',\r\n            }}\r\n            onSubmit={onSubmitHandler}\r\n            validate={addPostFormValidate}\r\n        >\r\n            <Form>\r\n                <Field\r\n                    name=\"post\"\r\n                    component={\"textarea\"}\r\n                    placeholder={\"add Post...\"}\r\n                />\r\n                <button type=\"submit\">Add</button>\r\n                <ErrorMessage name=\"post\" component=\"div\" className={s.error}/>\r\n            </Form>\r\n        </Formik>\r\n    );\r\n}","import {\r\n    ADD_POST, PhotosType, SET_PROFILE_PHOTO,\r\n    SET_PROFILE_STATUS,\r\n    SET_USER_INFO,\r\n    UserInfoType\r\n} from \"../reducers/profile-reducer\";\r\nimport {ThunkType} from \"../redux-store\";\r\nimport {profileAPI} from \"../../api/api\";\r\n\r\nexport type ProfileActionsType =\r\n    addPostACType\r\n    | setUserInfoACType\r\n    | setProfileStatusACType\r\n    | SetProfilePhotoACACType\r\n\r\nexport type addPostACType = ReturnType<typeof addPostAC>\r\nexport const addPostAC = (newPostText: string) => {\r\n    return {\r\n        type: ADD_POST,\r\n        newPostText,\r\n    } as const\r\n}\r\n\r\nexport type setUserInfoACType = ReturnType<typeof setUserInfoAC>\r\nexport const setUserInfoAC = (userInfo: UserInfoType) => {\r\n    return {\r\n        type: SET_USER_INFO,\r\n        userInfo\r\n    } as const\r\n}\r\n\r\nexport type setProfileStatusACType = ReturnType<typeof setProfileStatusAC>\r\nexport const setProfileStatusAC = (status: string) => {\r\n    return {\r\n        type: SET_PROFILE_STATUS,\r\n        status,\r\n    } as const\r\n}\r\n\r\nexport type SetProfilePhotoACACType = ReturnType<typeof setProfilePhotoAC>\r\nexport const setProfilePhotoAC = (photos: PhotosType) => {\r\n    return {\r\n        type: SET_PROFILE_PHOTO,\r\n        photos,\r\n    } as const\r\n}\r\n\r\n// THUNK\r\nexport const setUserInfoTC = (userId: number): ThunkType => async dispatch => {\r\n    try {\r\n        const res = await profileAPI.getProfile(userId)\r\n        dispatch(setUserInfoAC(res.data))\r\n    } catch (err: any) {\r\n        console.warn(err)\r\n    }\r\n}\r\n\r\nexport const updateProfileInfoTC = (data: Omit<UserInfoType, 'photos'>): ThunkType => async (dispatch, getState) => {\r\n    try {\r\n        const userId = getState().auth.id\r\n        const res = await profileAPI.updateProfile(data)\r\n        if (res.data.resultCode === 0 && userId) {\r\n            dispatch(setUserInfoTC(userId))\r\n        }\r\n    } catch (err: any) {\r\n        console.warn(err)\r\n    }\r\n}\r\n\r\nexport const getProfileStatusTC = (userId: number): ThunkType => async dispatch => {\r\n    try {\r\n        const res = await profileAPI.getProfileStatus(userId)\r\n        dispatch(setProfileStatusAC(res.data))\r\n    } catch (err: any) {\r\n        console.warn(err)\r\n    }\r\n}\r\n\r\nexport const updateProfileStatusTC = (status: string): ThunkType => async dispatch => {\r\n    try {\r\n        const res = await profileAPI.updateProfileStatus(status)\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setProfileStatusAC(status))\r\n        }\r\n    } catch (err: any) {\r\n        console.warn(err)\r\n    }\r\n}\r\n\r\nexport const savePhotoTC = (photoFile: File, userId: number): ThunkType => async dispatch => {\r\n    try {\r\n        const res = await profileAPI.setProfileImage(photoFile)\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setProfilePhotoAC(res.data))\r\n            dispatch(setUserInfoTC(userId))\r\n        }\r\n    } catch (err: any) {\r\n        console.warn(err)\r\n    }\r\n}","import React from 'react';\r\nimport style from './MyPosts.module.css';\r\nimport {Post} from \"./Post/Post\";\r\nimport {MyPostsPropsType} from \"./MyPostsContainer\";\r\nimport {AddPostForm} from \"./AddPostForm/AddPostForm\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {addPostAC} from \"../../../redux/action-creators/profile\";\r\n\r\nexport const MyPosts = React.memo((props: MyPostsPropsType) => {\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const addNewPost = (newPostText: string) => {\r\n        dispatch(addPostAC(newPostText))\r\n    }\r\n\r\n    return (\r\n        <div className={style.myPosts}>\r\n            <h3>My posts</h3>\r\n            <AddPostForm\r\n                onSubmit={addNewPost}\r\n            />\r\n            <div className={style.posts}>\r\n                {props.posts.map(post => {\r\n                    return <Post\r\n                        key={post.id}\r\n                        message={post.message}\r\n                        likesCount={post.likesCount}\r\n                        img={post.img}\r\n                        id={post.id}\r\n                    />\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n})","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {MyPosts} from \"./MyPosts\";\r\nimport {Dispatch} from \"redux\";\r\nimport {addPostAC} from \"../../../redux/action-creators/profile\";\r\nimport {RootStateType} from \"../../../redux/redux-store\";\r\nimport {PostType} from \"../../../redux/reducers/profile-reducer\";\r\n\r\ntype mapStateToPropsType = {\r\n    posts: Array<PostType>,\r\n}\r\n\r\ntype mapDispatchToPropsType = {\r\n    addPost: (newPostText: string) => void,\r\n}\r\n\r\nexport type MyPostsPropsType = mapStateToPropsType & mapDispatchToPropsType\r\n\r\n\r\nlet mapStateToProps = (state: RootStateType): mapStateToPropsType => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch: Dispatch): mapDispatchToPropsType => {\r\n    return {\r\n        addPost: (newPostText: string) => {\r\n            dispatch(addPostAC(newPostText))\r\n        },\r\n\r\n    }\r\n}\r\n\r\nexport const MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);","import React, {ChangeEvent} from 'react';\r\n\r\ntype ProfileStatusType = {\r\n    status: string\r\n    handleProfileStatusUpdate?: (status: string) => void\r\n}\r\n\r\nconst DEFAULT_STATUS = \"Dont have status yet\"\r\n\r\nexport class ProfileStatus extends React.PureComponent<ProfileStatusType> {\r\n    state = {\r\n        editMode: false,\r\n        statusValue: this.props.status\r\n    }\r\n\r\n\r\n    activateEditMode = () => {\r\n        this.setState({\r\n            editMode: true\r\n        })\r\n    }\r\n    deactivateEditMode = () => {\r\n        this.setState({\r\n            editMode: false\r\n        })\r\n        this.props.handleProfileStatusUpdate && this.props.handleProfileStatusUpdate(this.state.statusValue)\r\n    }\r\n    handleChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({\r\n            statusValue: e.currentTarget.value\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<ProfileStatusType>, prevState: Readonly<{}>) {\r\n        if (prevProps.status !== this.props.status)\r\n            this.setState({\r\n                statusValue: this.props.status\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                {this.state.editMode\r\n                    ?\r\n                    <input\r\n                        type=\"text\"\r\n                        value={this.state.statusValue}\r\n                        autoFocus\r\n                        onBlur={this.deactivateEditMode}\r\n                        onChange={this.handleChange}\r\n                    />\r\n                    :\r\n                    <span onDoubleClick={this.activateEditMode}>\r\n                        {this.props.status || DEFAULT_STATUS}\r\n                    </span>\r\n                }\r\n            </>)\r\n    };\r\n}","import React, {FC} from 'react';\r\nimport {FormikProps} from \"formik\";\r\nimport {UserInfoType} from \"../../../../redux/reducers/profile-reducer\";\r\nimport s from './Contact.module.css'\r\nimport {Button} from \"../../../../UI/Button/Button\";\r\n\r\ntype ContactPropsType = {\r\n    name: string\r\n    value: string\r\n    isEditModeOn: boolean\r\n    fieldName?: string\r\n    formik?: FormikProps<Omit<UserInfoType, 'photos'>>\r\n}\r\n\r\nexport const Contact: FC<ContactPropsType> = ({name, value, isEditModeOn,fieldName, formik}) => {\r\n    return (\r\n        <div >{\r\n            isEditModeOn && formik ?\r\n                <h4>{fieldName}:\r\n                    <input\r\n                        {...formik.getFieldProps(name)}\r\n                    />\r\n                </h4>\r\n                :\r\n                <Button className={s.link} >\r\n                    <a href={value} target={'_blank'} rel=\"noreferrer\">{name}</a>\r\n                </Button>\r\n        }\r\n        </div>\r\n    );\r\n}","import React, {FC, memo} from 'react';\r\nimport {ProfileStatus} from \"../ProfileStatus\";\r\nimport {Contact} from \"../Contact/Contact\";\r\nimport {useFormik} from \"formik\";\r\nimport {updateProfileInfoTC} from \"../../../../redux/action-creators/profile\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Button} from \"../../../../UI/Button/Button\";\r\nimport {ProfileDataPropsType} from \"../ProfileData/ProfileData\";\r\nimport s from './ProfileDataForm.module.css';\r\n\r\ntype ProfileDataFormPropsType = ProfileDataPropsType & { onEditProfileClick: () => void }\r\n\r\nexport const ProfileDataForm: FC<ProfileDataFormPropsType> = memo(({\r\n                                                                       userInfo,\r\n                                                                       status,\r\n                                                                       handleProfileStatusUpdate,\r\n                                                                       isEditModeOn,\r\n                                                                       onEditProfileClick\r\n                                                                   }) => {\r\n\r\n    const {\r\n        fullName,\r\n        lookingForAJobDescription,\r\n        aboutMe,\r\n        contacts,\r\n        lookingForAJob,\r\n        userId\r\n    } = userInfo;\r\n\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            lookingForAJob,\r\n            fullName,\r\n            aboutMe,\r\n            contacts,\r\n            lookingForAJobDescription,\r\n            userId,\r\n        },\r\n        onSubmit: values => {\r\n            dispatch(updateProfileInfoTC(values))\r\n            onEditProfileClick()\r\n            formik.resetForm();\r\n        },\r\n    })\r\n\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <div>\r\n                <span><b>status: </b></span>\r\n                <ProfileStatus\r\n                    status={status}\r\n                    handleProfileStatusUpdate={handleProfileStatusUpdate}\r\n                />\r\n            </div>\r\n\r\n            <form onSubmit={formik.handleSubmit}>\r\n                <div>\r\n                    <h4>fullName:\r\n                        <input {...formik.getFieldProps('fullName')}/>\r\n                    </h4>\r\n                </div>\r\n\r\n                <div>\r\n                    <h4>aboutMe<b className={s.red}>*</b>:\r\n                        <input {...formik.getFieldProps('aboutMe')}/>\r\n                    </h4>\r\n                </div>\r\n\r\n                <div>\r\n                    <h4>lookingForAJob:\r\n                        <input\r\n                            type={\"checkbox\"}\r\n                            name={'lookingForAJob'}\r\n                            onChange={formik.handleChange}\r\n                            checked={formik.values.lookingForAJob}\r\n                        />\r\n                    </h4>\r\n                </div>\r\n                <div>\r\n                    <h4>lookingForAJobDescription<b className={s.red}>*</b>:\r\n                        <input {...formik.getFieldProps('lookingForAJobDescription')}/>\r\n                    </h4>\r\n                </div>\r\n\r\n                <div>\r\n                    {Object.keys(contacts).map((key: string) => {\r\n                        const value = contacts[key]\r\n                        return (\r\n                            <Contact\r\n                                key={key}\r\n                                name={'contacts.' + key}\r\n                                fieldName={key}\r\n                                value={value}\r\n                                isEditModeOn={isEditModeOn}\r\n                                formik={formik}\r\n                            />\r\n                        )\r\n                    })}\r\n                </div>\r\n                <Button type=\"submit\">Save changes</Button>\r\n            </form>\r\n        </div>\r\n    );\r\n});","import React, {FC, memo} from 'react';\r\nimport {ProfileStatus} from \"../ProfileStatus\";\r\nimport {Contact} from \"../Contact/Contact\";\r\nimport {UserInfoType} from \"../../../../redux/reducers/profile-reducer\";\r\nimport s from './ProfileData.module.css';\r\n\r\nexport type ProfileDataPropsType = {\r\n    userInfo: UserInfoType\r\n    status: string\r\n    handleProfileStatusUpdate: (status: string) => void\r\n    isEditModeOn: boolean\r\n}\r\n\r\nexport const ProfileData: FC<ProfileDataPropsType> = memo(({\r\n                                                               userInfo,\r\n                                                               handleProfileStatusUpdate,\r\n                                                               status,\r\n                                                               isEditModeOn\r\n                                                           }) => {\r\n\r\n    const {\r\n        fullName,\r\n        lookingForAJobDescription,\r\n        aboutMe,\r\n        contacts,\r\n        lookingForAJob,\r\n    } = userInfo;\r\n\r\n    return (\r\n        <div className={s.wrapper}>\r\n            <div className={s.name}>\r\n                <h3>{fullName}</h3>\r\n            </div>\r\n            <div>\r\n                <span><b>status: </b></span>\r\n                <ProfileStatus\r\n                    status={status}\r\n                    handleProfileStatusUpdate={handleProfileStatusUpdate}\r\n                />\r\n            </div>\r\n            <div>\r\n                <h4>aboutMe: <span className={s.description}>{aboutMe}</span></h4>\r\n            </div>\r\n            <div>\r\n                <h4>lookingForAJob: <span\r\n                    className={s.description}>{lookingForAJob ? 'yes' : 'no'}</span>\r\n                </h4>\r\n            </div>\r\n            {lookingForAJob &&\r\n\t\t\t<div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<h4>Description: <span\r\n\t\t\t\t\t\tclassName={s.description}>{lookingForAJobDescription}</span>\r\n\t\t\t\t\t</h4>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n            }\r\n            <div>\r\n                {Object.keys(contacts).map((key: string) => {\r\n                    const value = contacts[key]\r\n                    return (\r\n                        value !== null &&\r\n\t\t\t\t\t\t<Contact key={key} name={key} value={value}\r\n\t\t\t\t\t\t\t\t isEditModeOn={isEditModeOn}/>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    );\r\n});","import React, {ChangeEvent, useCallback, useState} from 'react';\r\nimport s from './ProfileInfo.module.css';\r\nimport {UserInfoType} from \"../../../redux/reducers/profile-reducer\";\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport avatarDefault from \"../../../assets/images/user-avatar.webp\";\r\nimport {Button} from \"../../../UI/Button/Button\";\r\nimport {ProfileDataForm} from \"./ProfileDataForm/ProfileDataForm\";\r\nimport {ProfileData} from \"./ProfileData/ProfileData\";\r\n\r\ntype ProfileInfoPropsType = {\r\n    userInfo: UserInfoType\r\n    status: string\r\n    isProfileOwner: boolean\r\n    savePhoto: (photoFile: File) => void\r\n    handleProfileStatusUpdate: (status: string) => void\r\n}\r\n\r\nexport const ProfileInfo: React.FC<ProfileInfoPropsType> = React.memo(props => {\r\n    const {\r\n        userInfo,\r\n        status,\r\n        savePhoto,\r\n        isProfileOwner,\r\n        handleProfileStatusUpdate\r\n    } = props;\r\n\r\n    const {photos} = userInfo;\r\n\r\n    const [editMode, setEditMode] = useState<boolean>(false)\r\n\r\n    const onMainPhotoChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files !== null) {\r\n            savePhoto(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    const onEditProfileClick = useCallback(() => {\r\n        setEditMode(!editMode)\r\n    }, [editMode])\r\n\r\n    const isPhotosSmallExists = photos.small || avatarDefault\r\n\r\n    if (!userInfo) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.wrapper}>\r\n                <div className={s.avatarBlock}>\r\n                    <img className={s.avatar} src={isPhotosSmallExists} alt=\"avatar\"/>\r\n                    {editMode &&\r\n\t\t\t\t\t<div>\r\n                        <h4>Change photo</h4>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype={'file'}\r\n\t\t\t\t\t\t\tname={\"file\"}\r\n\t\t\t\t\t\t\taccept=\"image/png, image/gif, image/jpeg\"\r\n\t\t\t\t\t\t\tonChange={onMainPhotoChange}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>}\r\n                    {isProfileOwner &&\r\n\t\t\t\t\t<Button onClick={onEditProfileClick} className={s.btn}>\r\n                        Edit Profile\r\n                    </Button>}\r\n                </div>\r\n                {editMode ?\r\n                    <ProfileDataForm\r\n                        userInfo={userInfo}\r\n                        handleProfileStatusUpdate={handleProfileStatusUpdate}\r\n                        status={status}\r\n                        isEditModeOn={editMode}\r\n                        onEditProfileClick={onEditProfileClick}\r\n                    />\r\n                    :\r\n                    <ProfileData\r\n                        handleProfileStatusUpdate={handleProfileStatusUpdate}\r\n                        status={status}\r\n                        userInfo={userInfo}\r\n                        isEditModeOn={editMode}\r\n                    />\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n})","import React, {useCallback, useEffect} from 'react';\r\nimport {useTypedSelector} from \"../../hooks/useTypedSelector\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport {MyPostsContainer} from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileInfo} from \"./ProfileInfo/ProfileInfo\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {\r\n    getProfileStatusTC, savePhotoTC,\r\n    setUserInfoTC,\r\n    updateProfileStatusTC\r\n} from \"../../redux/action-creators/profile\";\r\n\r\nconst Profile: React.FC = () => {\r\n\r\n    const userInfo = useTypedSelector(state => state.profilePage.userInfo)\r\n    const authId = useTypedSelector(state => state.auth.id)\r\n    const status = useTypedSelector(state => state.profilePage.status)\r\n    const dispatch = useDispatch()\r\n    const {userId} = useParams<'userId'>()\r\n\r\n    const isProfileOwner = userId ? authId === +userId : false\r\n\r\n    useEffect(() => {\r\n        if (userId) {\r\n            dispatch(setUserInfoTC(+userId))\r\n            dispatch(getProfileStatusTC(+userId))\r\n        }\r\n    }, [dispatch, userId])\r\n\r\n    const savePhoto = useCallback((photoFile: File) => {\r\n        if (userId) {\r\n            dispatch(savePhotoTC(photoFile,+userId ))\r\n        }\r\n    }, [dispatch, userId])\r\n\r\n    const handleProfileStatusUpdate = useCallback((status: string) => {\r\n        if (userId && authId === +userId) {\r\n            dispatch(updateProfileStatusTC(status))\r\n        }\r\n    }, [dispatch, authId, userId])\r\n\r\n    return (\r\n        <div>\r\n            <ProfileInfo\r\n                savePhoto={savePhoto}\r\n                isProfileOwner={isProfileOwner}\r\n                userInfo={userInfo}\r\n                status={status}\r\n                handleProfileStatusUpdate={handleProfileStatusUpdate}\r\n            />\r\n            <MyPostsContainer/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Profile;","export default __webpack_public_path__ + \"static/media/user-avatar.2ca07d6b.webp\";"],"sourceRoot":""}