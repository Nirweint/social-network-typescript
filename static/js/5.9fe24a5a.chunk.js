(this["webpackJsonpsocial-network-typescript"]=this["webpackJsonpsocial-network-typescript"]||[]).push([[5],{104:function(t,e,n){t.exports={container:"User_container__2v_dR",item:"User_item__1tlbQ",follow:"User_follow__fHQHi",avatar:"User_avatar__ucY4X",status:"User_status__1NWGK",information:"User_information__2TZyY",information__item:"User_information__item__2KobZ"}},105:function(t,e,n){t.exports={selected:"Paginator_selected__75wlc",page:"Paginator_page__2IsOl"}},107:function(t,e,n){"use strict";n.r(e);var r=n(37),o=n(38),a=n(43),u=n(42),c=n(9),i=n(11),s=n.n(i),l=n(18),f=n(41),p=n(27),d=function(t){return{type:f.d,userId:t}},g=function(t){return{type:f.c,users:t}},v=function(t){return{type:f.a,currentPage:t}},h=function(t){return{type:f.b,totalCount:t}},j=function(t){return{type:f.f,isFetching:t}},b=function(t,e){return{type:f.e,followingInProgress:t,userId:e}},m=n(0),w=n.n(m),y=n(53),O=n(104),x=n.n(O),_=n(22),C=n(95),P=n(5),k=n(1),F=function(t){var e=t.onClick,n=t.id,r=t.followed,o=t.img,a=t.name,u=t.status,c=t.isButtonDisabled;Object(y.a)(t,["onClick","id","followed","img","name","status","isButtonDisabled"]);return Object(k.jsx)("div",{className:x.a.container,children:Object(k.jsxs)("div",{id:n.toString(),className:x.a.item,children:[Object(k.jsxs)("div",{className:x.a.follow,children:[Object(k.jsx)(P.b,{to:"/profile/".concat(n),children:Object(k.jsx)("img",{className:x.a.avatar,src:null!==o?o:C.a,alt:"avatar"})}),Object(k.jsx)(_.a,{disabled:c,red:r,onClick:e,children:r?"Unfollow":"Follow"})]}),Object(k.jsx)("div",{className:x.a.information,children:Object(k.jsxs)("div",{className:x.a.information__item,children:[Object(k.jsx)("h3",{children:a}),Object(k.jsx)("div",{className:x.a.status,children:u})]})})]})},n)},U=n(20),I=n(105),N=n.n(I),A=function(t){var e=t.totalCount,n=t.count,r=t.portionSize,o=void 0===r?10:r,a=t.setCurrentPage,u=t.currentPage;Object(m.useEffect)((function(){g(Math.ceil(u/o))}),[u,o]);for(var c=Math.ceil(e/n),i=[],s=1;s<=c;s++)i.push(s);var l=Math.ceil(c/o),f=Object(m.useState)(1),p=Object(U.a)(f,2),d=p[0],g=p[1],v=(d-1)*o+1,h=d*o,j=function(t,e){return e===t?"".concat(N.a.selected," ").concat(N.a.page):"".concat(N.a.page)};return Object(k.jsxs)("div",{children:[d>1&&Object(k.jsx)(_.a,{onClick:function(){g(d-1)},children:"Prev"}),i.filter((function(t){return t>=v&&t<=h})).map((function(t){return Object(k.jsx)("span",{className:j(t,u),onClick:function(){return a(t)},children:t},t)})),l>d&&Object(k.jsx)(_.a,{onClick:function(){g(d+1)},children:"Next"})]})},E=function(t){var e=t.totalCount,n=t.users,r=t.count,o=t.followingInProgress,a=t.currentPage,u=t.onFollowClick,c=t.setCurrentPage;return Object(k.jsxs)("div",{children:[Object(k.jsx)(A,{currentPage:a,count:r,totalCount:e,setCurrentPage:c}),n&&n.map((function(t){var e,n=t.id,r=t.followed,a=t.photos,c=t.name,i=t.status;return Object(k.jsx)(F,{id:n,followed:r,img:a.small,name:c,status:i,isButtonDisabled:(e=n,o.some((function(t){return t===e}))),onClick:function(){return u(n)}},n)}))]})},S=n(35),z=n(30),D="NOT_FOUND";var M=function(t,e){return t===e};function R(t,e){var n="object"===typeof e?e:{equalityCheck:e},r=n.equalityCheck,o=void 0===r?M:r,a=n.maxSize,u=void 0===a?1:a,c=n.resultEqualityCheck,i=function(t){return function(e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,o=0;o<r;o++)if(!t(e[o],n[o]))return!1;return!0}}(o),s=1===u?function(t){var e;return{get:function(n){return e&&t(e.key,n)?e.value:D},put:function(t,n){e={key:t,value:n}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}(i):function(t,e){var n=[];function r(t){var r=n.findIndex((function(n){return e(t,n.key)}));if(r>-1){var o=n[r];return r>0&&(n.splice(r,1),n.unshift(o)),o.value}return D}return{get:r,put:function(e,o){r(e)===D&&(n.unshift({key:e,value:o}),n.length>t&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(u,i);function l(){var e=s.get(arguments);if(e===D){if(e=t.apply(null,arguments),c){var n=s.getEntries(),r=n.find((function(t){return c(t.value,e)}));r&&(e=r.value)}s.put(arguments,e)}return e}return l.clearCache=function(){return s.clear()},l}function q(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"===typeof t}))){var n=e.map((function(t){return"function"===typeof t?"function "+(t.name||"unnamed")+"()":typeof t})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return e}function B(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];var a,u=0,c={memoizeOptions:void 0},i=r.pop();if("object"===typeof i&&(c=i,i=r.pop()),"function"!==typeof i)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof i+"]");var s=c,l=s.memoizeOptions,f=void 0===l?n:l,p=Array.isArray(f)?f:[f],d=q(r),g=t.apply(void 0,[function(){return u++,i.apply(null,arguments)}].concat(p)),v=t((function(){for(var t=[],e=d.length,n=0;n<e;n++)t.push(d[n].apply(null,arguments));return a=g.apply(null,t)}));return Object.assign(v,{resultFunc:i,memoizedResultFunc:g,dependencies:d,lastResult:function(){return a},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),v};return o}var T=B(R),H=T((function(t){return t.usersPage.users}),(function(t){return t.filter((function(t){return!0}))})),J=function(t){return t.usersPage.count},K=function(t){return t.usersPage.totalCount},Q=function(t){return t.usersPage.currentPage},Y=function(t){return t.usersPage.isFetching},Z=function(t){return t.usersPage.followingInProgress},G=function(t){Object(a.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return(t=e.call.apply(e,[this].concat(a))).setCurrentPage=function(e){t.props.getUsers(e,t.props.count)},t.toggleFollow=function(e){t.props.getIsFollowed(e)},t}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.count)}},{key:"render",value:function(){return Object(k.jsx)(k.Fragment,{children:this.props.isFetching?Object(k.jsx)(S.a,{}):Object(k.jsx)(E,{users:this.props.users,count:this.props.count,currentPage:this.props.currentPage,totalCount:this.props.totalCount,followingInProgress:this.props.followingInProgress,onFollowClick:this.toggleFollow,setCurrentPage:this.setCurrentPage})})}}]),n}(w.a.Component);e.default=Object(z.c)(Object(c.b)((function(t){return{users:H(t),count:J(t),totalCount:K(t),currentPage:Q(t),isFetching:Y(t),followingInProgress:Z(t)}}),{onFollowClick:d,setUsers:g,setCurrentPage:v,setTotalCount:h,toggleIsFetching:j,getUsers:function(t,e){return function(){var n=Object(l.a)(s.a.mark((function n(r){var o;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(j(!0)),n.next=4,p.c.getUsers(t,e);case 4:o=n.sent,r(j(!1)),r(v(t)),r(g(o.data.items)),r(h(o.data.totalCount)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.warn(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(t){return n.apply(this,arguments)}}()},getIsFollowed:function(t){return function(){var e=Object(l.a)(s.a.mark((function e(n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(b(!0,t)),e.next=4,p.c.isFollowed(t);case 4:if(!0!==(r=e.sent).data){e.next=11;break}return e.next=8,p.c.unfollowUser(t);case 8:0===e.sent.data.resultCode&&n(d(t)),n(b(!1,t));case 11:if(!1!==r.data){e.next=17;break}return e.next=14,p.c.followUser(t);case 14:0===e.sent.data.resultCode&&n(d(t)),n(b(!1,t));case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.warn(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t){return e.apply(this,arguments)}}()}}))(G)},95:function(t,e,n){"use strict";e.a=n.p+"static/media/user-avatar.2ca07d6b.webp"}}]);
//# sourceMappingURL=5.9fe24a5a.chunk.js.map