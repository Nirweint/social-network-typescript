(this["webpackJsonpsocial-network-typescript"]=this["webpackJsonpsocial-network-typescript"]||[]).push([[3],{100:function(t,e,a){t.exports={posts:"MyPosts_posts__2YdkN",myPosts:"MyPosts_myPosts__3WChl"}},101:function(t,e,a){t.exports={item:"Post_item__VCfZb",avatar:"Post_avatar__3b1mL"}},102:function(t,e,a){t.exports={error:"AddPostForm_error__1c5D7"}},103:function(t,e,a){t.exports={backgroundImg:"ProfileInfo_backgroundImg__zDJmk",wrapper:"ProfileInfo_wrapper__3JRwj",name:"ProfileInfo_name__1Y5Jv",avatar:"ProfileInfo_avatar__yMIdP",description:"ProfileInfo_description__35rkD"}},106:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a.n(s),r=a(12),c=a(2),o=a(9),i=a(100),u=a.n(i),l=a(101),d=a.n(l),p=a(1),f=n.a.memo((function(t){return Object(p.jsxs)("div",{className:d.a.item,children:[Object(p.jsx)("img",{className:d.a.avatar,src:t.img,alt:"avatar"}),Object(p.jsx)("span",{children:t.message}),Object(p.jsx)("div",{children:Object(p.jsxs)("span",{children:["likes: ",t.likesCount]})})]},t.id)})),j=a(13),b=a(102),h=a.n(b),m=function(t){return Object(p.jsx)(j.d,{initialValues:{post:""},onSubmit:function(e,a){var s=a.setSubmitting,n=a.resetForm;t.onSubmit(e.post),n({values:{post:""}}),s(!1)},validate:function(t){var e={};return t.post?t.post.length>50&&(e.post="Max Length is 50 symbols"):e.post="Field is required",e},children:Object(p.jsxs)(j.c,{children:[Object(p.jsx)(j.b,{name:"post",component:"textarea",placeholder:"add Post..."}),Object(p.jsx)("button",{type:"submit",children:"Add"}),Object(p.jsx)(j.a,{name:"post",component:"div",className:h.a.error})]})})},v=a(11),x=a.n(v),O=a(18),_=a(40),P=a(27),g=function(t){return{type:_.a,newPostText:t}},k=function(t){return{type:_.b,status:t}},y=n.a.memo((function(t){var e=Object(o.c)();return Object(p.jsxs)("div",{className:u.a.myPosts,children:[Object(p.jsx)("h3",{children:"My posts"}),Object(p.jsx)(m,{onSubmit:function(t){e(g(t))}}),Object(p.jsx)("div",{className:u.a.posts,children:t.posts.map((function(t){return Object(p.jsx)(f,{message:t.message,likesCount:t.likesCount,img:t.img,id:t.id},t.id)}))})]})})),w=Object(o.b)((function(t){return{posts:t.profilePage.posts}}),(function(t){return{addPost:function(e){t(g(e))}}}))(y),S=a(103),M=a.n(S),I=a(35),C=a(95),N=a(37),D=a(38),V=a(43),J=a(42),U=function(t){Object(V.a)(a,t);var e=Object(J.a)(a);function a(){var t;Object(N.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))).state={editMode:!1,statusValue:t.props.status},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.handleProfileStatusUpdate&&t.props.handleProfileStatusUpdate(t.state.statusValue)},t.handleChange=function(e){t.setState({statusValue:e.currentTarget.value})},t}return Object(D.a)(a,[{key:"componentDidUpdate",value:function(t,e){t.status!==this.props.status&&this.setState({statusValue:this.props.status})}},{key:"render",value:function(){return Object(p.jsx)("div",{children:this.state.editMode?Object(p.jsx)("input",{type:"text",value:this.state.statusValue,autoFocus:!0,onBlur:this.deactivateEditMode,onChange:this.handleChange}):Object(p.jsx)("span",{onDoubleClick:this.activateEditMode,children:this.props.status||"Dont have status yet"})})}}]),a}(n.a.PureComponent),E=n.a.memo((function(t){var e=t.userInfo,a=t.status,s=t.handleProfileStatusUpdate,n=e.photos,r=e.fullName,c=e.lookingForAJobDescription,o=e.aboutMe,i=n.small?n.small:C.a;return e?Object(p.jsx)("div",{children:Object(p.jsxs)("div",{className:M.a.wrapper,children:[Object(p.jsx)("img",{className:M.a.avatar,src:i,alt:"avatar"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:M.a.name,children:Object(p.jsx)("h3",{children:r})}),Object(p.jsx)(U,{status:a,handleProfileStatusUpdate:s}),Object(p.jsx)("div",{className:M.a.description,children:o}),Object(p.jsxs)("div",{className:M.a.description,children:[c," "]})]})]})}):Object(p.jsx)(I.a,{})}));e.default=function(){var t=Object(r.a)((function(t){return t.profilePage.userInfo})),e=Object(r.a)((function(t){return t.auth.id})),a=Object(r.a)((function(t){return t.profilePage.status})),n=Object(o.c)(),i=Object(c.h)().userId;Object(s.useEffect)((function(){i&&(n(function(t){return function(){var e=Object(O.a)(x.a.mark((function e(a){var s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.b.getProfile(t);case 3:s=e.sent,a((n=s.data,{type:_.c,userInfo:n})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}var n}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}(+i)),n(function(t){return function(){var e=Object(O.a)(x.a.mark((function e(a){var s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.b.getProfileStatus(t);case 3:s=e.sent,a(k(s.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}(+i)))}),[n,i]);var u=Object(s.useCallback)((function(t){i&&e===+i&&n(function(t){return function(){var e=Object(O.a)(x.a.mark((function e(a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.b.updateProfileStatus(t);case 3:0===e.sent.data.resultCode&&a(k(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}(t))}),[n,e,i]);return Object(p.jsxs)("div",{children:[Object(p.jsx)(E,{userInfo:t,status:a,handleProfileStatusUpdate:u}),Object(p.jsx)(w,{})]})}},95:function(t,e,a){"use strict";e.a=a.p+"static/media/user-avatar.2ca07d6b.webp"}}]);
//# sourceMappingURL=3.e650174d.chunk.js.map