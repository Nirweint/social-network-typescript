(this["webpackJsonpsocial-network-typescript"]=this["webpackJsonpsocial-network-typescript"]||[]).push([[0],{10:function(e,t,n){e.exports={nav:"Sidebar_nav__3sw-s",item:"Sidebar_item__2FbfF",activeLink:"Sidebar_activeLink__8-Bs3",activeFriends:"Sidebar_activeFriends__2IQyO",title:"Sidebar_title__39vEM"}},12:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=n(9).d},17:function(e,t,n){e.exports={error:"LoginForm_error__11n2o",formInput:"LoginForm_formInput__17RlG",checkbox:"LoginForm_checkbox__3ojoA"}},22:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(3),r=n(53),s=(n(0),n(31)),c=n.n(s),i=n(1),o=function(e){var t=e.red,n=e.className,s=Object(r.a)(e,["red","className"]),o="".concat(n," ").concat(c.a.btn," ").concat(t?c.a.red:c.a.default);return Object(i.jsx)("button",Object(a.a)({className:o},s))}},27:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i}));var a=n(58),r=n.n(a).a.create({baseURL:"https://social-network.samuraijs.com/api/1.0",withCredentials:!0,headers:{"API-KEY":"9776f825-db80-4051-9f58-6c0d39788ac9"}}),s={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("/users?page=".concat(e,"&count=").concat(t))},isFollowed:function(e){return r.get("/follow/".concat(e))},followUser:function(e){return r.post("/follow/".concat(e))},unfollowUser:function(e){return r.delete("/follow/".concat(e))}},c={getProfile:function(e){return r.get("/profile/".concat(e))},getProfileStatus:function(e){return r.get("/profile/status/".concat(e))},updateProfileStatus:function(e){return r.put("/profile/status/",{status:e})}},i={getUserData:function(){return r.get("/auth/me")},login:function(e,t,n){return r.post("/auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return r.delete("/auth/login")}}},31:function(e,t,n){e.exports={btn:"Button_btn__2BmGI",red:"Button_red__1o-Pj"}},32:function(e,t,n){e.exports={header:"Header_header__22AGA",logo:"Header_logo__1sNVu",loginBlock:"Header_loginBlock__396cc"}},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n(0);var a=n.p+"static/media/spinner-1s-200px.80e82531.svg",r=n(1),s=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("img",{src:a,alt:"preloader"})})}},36:function(e,t,n){e.exports={activeFriends:"ActiveFriends_activeFriends__1Peqe",activeLink:"ActiveFriends_activeLink__eUM7R"}},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u}));var a=n(16),r=n(3),s=n(6),c="https://sun9-52.userapi.com/impf/c850120/v850120142/de34f/-V0Lx1I09fo.jpg?size=2160x2160&quality=96&sign=e11d8ba5c927096811c14b692a8f67e0&type=album",i="dialogs/ADD-MESSAGE",o={dialogs:[{id:Object(s.a)(),name:"Alex",img:c},{id:Object(s.a)(),name:"Sofa",img:"https://sun9-80.userapi.com/impg/gJeHyr8s0kj96H0LVEz1Gq7vHteh1QYV8_Kdow/FRSJlnhrNaY.jpg?size=878x627&quality=96&sign=00b60f8e76d747c622535e511da56ce4&type=album"},{id:Object(s.a)(),name:"Oleg",img:"https://sun1.beltelecom-by-minsk.userapi.com/s/v1/ig1/r3RvNnQxvdb_L2EuFMLfbDCBxbtm8pL8xQKGYVNbvsmoCAxAOr_9Hyi1KkeIFbCVhrhQ_mvT.jpg?size=200x200&quality=96&crop=1,1,1917,1917&ava=1"},{id:Object(s.a)(),name:"Pasha",img:"https://sun1.beltelecom-by-minsk.userapi.com/s/v1/if1/LuHL7kJap_p2AMvhHWndMpcGRj6lv9f_OiEscfE9zqkeFhQAbA7NB15Bfglq5l_IPB2JOmHb.jpg?size=200x200&quality=96&crop=560,0,720,720&ava=1"}],messages:[{head:"Alex",id:Object(s.a)(),messageText:"I'm gonna make him an offer he can't refuse.",name:"Alex",time:"22:00",avatar:c},{head:"Alex",id:Object(s.a)(),messageText:"A friend should always underestimate your virtues and an enemy overestimate your faults.",name:"Sofa",time:"22:00",avatar:"https://sun9-80.userapi.com/impg/gJeHyr8s0kj96H0LVEz1Gq7vHteh1QYV8_Kdow/FRSJlnhrNaY.jpg?size=878x627&quality=96&sign=00b60f8e76d747c622535e511da56ce4&type=album"},{head:"Alex",id:Object(s.a)(),messageText:"Revenge is a dish best served cold.",name:"Alex",time:"22:00",avatar:c},{head:"Alex",id:Object(s.a)(),messageText:"You spend time with your family?",name:"Sofa",time:"22:00",avatar:"https://sun9-80.userapi.com/impg/gJeHyr8s0kj96H0LVEz1Gq7vHteh1QYV8_Kdow/FRSJlnhrNaY.jpg?size=878x627&quality=96&sign=00b60f8e76d747c622535e511da56ce4&type=album"},{head:"Alex",id:Object(s.a)(),messageText:"Sure I do.",name:"Alex",time:"22:00",avatar:c},{head:"Alex",id:Object(s.a)(),messageText:"Good. 'Cause a man who doesn't spend time with his family can never be a real man.",name:"Sofa",time:"22:00",avatar:"https://sun9-80.userapi.com/impg/gJeHyr8s0kj96H0LVEz1Gq7vHteh1QYV8_Kdow/FRSJlnhrNaY.jpg?size=878x627&quality=96&sign=00b60f8e76d747c622535e511da56ce4&type=album"}]},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(r.a)(Object(r.a)({},e),{},{messages:[].concat(Object(a.a)(e.messages),[{head:"Alex",id:Object(s.a)(),messageText:t.newMessage,name:"Alex",time:"22:00",avatar:c}])});default:return e}}},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return d}));var a=n(16),r=n(3),s=n(6),c="https://sun9-52.userapi.com/impf/c850120/v850120142/de34f/-V0Lx1I09fo.jpg?size=2160x2160&quality=96&sign=e11d8ba5c927096811c14b692a8f67e0&type=album",i="profile/ADD-POST",o="profile/SET-USER-INFO",u="profile/SET-PROFILE-STATUS",l={userInfo:{userId:1,lookingForAJob:!1,lookingForAJobDescription:"",fullName:"",aboutMe:"",contacts:{github:null,vk:null,facebook:null,instagram:null,twitter:null,website:null,youtube:null,mainLink:null},photos:{small:"",large:""}},posts:[{id:Object(s.a)(),message:"Hello, how are you?",likesCount:5,img:c},{id:Object(s.a)(),message:"How was your day?",likesCount:9,img:c},{id:Object(s.a)(),message:"This day is amazing",likesCount:1,img:c}],status:""},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:return Object(r.a)(Object(r.a)({},e),{},{posts:[].concat(Object(a.a)(e.posts),[{id:Object(s.a)(),message:t.newPostText,likesCount:0,img:c}])});case o:return Object(r.a)(Object(r.a)({},e),{},{userInfo:t.userInfo});case u:return Object(r.a)(Object(r.a)({},e),{},{status:t.status});default:return e}}},41:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return b}));var a=n(16),r=n(3),s="users/TOGGLE-FOLLOW",c="users/SET-USERS",i="users/SET-CURRENT-PAGE",o="users/SET-TOTAL-COUNT",u="users/TOGGLE-IS-FETCHING",l="users/TOGGLE-IS-FOLLOWING-PROGRESS",d={users:[],count:8,totalCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(r.a)(Object(r.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(r.a)(Object(r.a)({},e),{},{followed:!e.followed}):e}))});case c:return Object(r.a)(Object(r.a)({},e),{},{users:Object(a.a)(t.users)});case i:return Object(r.a)(Object(r.a)({},e),{},{currentPage:t.currentPage});case o:return Object(r.a)(Object(r.a)({},e),{},{totalCount:t.totalCount});case u:return Object(r.a)(Object(r.a)({},e),{},{isFetching:t.isFetching});case l:return Object(r.a)(Object(r.a)({},e),{},{followingInProgress:t.followingInProgress?[].concat(Object(a.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},55:function(e,t,n){e.exports={avatar:"Friend_avatar__1NyzY"}},59:function(e,t,n){e.exports={loginWrapper:"Login_loginWrapper__2h91B"}},92:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var a=n(26),r=n.n(a),s=n(5),c=n(0),i=n.n(c),o=n(2),u=n(9),l=n(12),d=n(10),b=n.n(d),j=n(55),m=n.n(j),p=n(1);function f(e){return Object(p.jsxs)("div",{children:[Object(p.jsx)("img",{className:m.a.avatar,src:e.img,alt:"avatar"}),Object(p.jsx)("div",{children:e.name})]},e.id)}var h=n(36),g=n.n(h);function O(e){var t=function(e){return e.isActive?g.a.activeLink:""},n=e.friends.map((function(e){return Object(p.jsx)(s.b,{className:t,to:"/dialogs/".concat(e.id),children:Object(p.jsx)(f,{id:e.id,name:e.name,img:e.img})},e.id)}));return Object(p.jsx)("div",{className:g.a.activeFriends,children:n})}var x=function(){var e=Object(u.d)((function(e){return e.sidebar})),t=Object(l.a)((function(e){return e.auth.id})),n=Object(l.a)((function(e){return e.auth.isAuth})),a=Object(o.h)().userId,r=function(e){return e.isActive?b.a.activeLink:""};return Object(p.jsxs)("nav",{className:b.a.nav,children:[Object(p.jsx)("div",{className:b.a.item,children:Object(p.jsx)(s.b,{to:function(e,t,n){return e?"/profile/".concat(t):n?"/profile/".concat(n):"/login"}(n,t,a),className:function(e){return e.isActive&&t?b.a.activeLink:""},children:"Profile"})}),Object(p.jsx)("div",{className:b.a.item,children:Object(p.jsx)(s.b,{to:"/dialogs",className:r,children:"Messages"})}),Object(p.jsx)("div",{className:b.a.item,children:Object(p.jsx)(s.b,{to:"/news",className:r,children:"News"})}),Object(p.jsx)("div",{className:b.a.item,children:Object(p.jsx)(s.b,{to:"/music",className:r,children:"Music"})}),Object(p.jsx)("div",{className:b.a.item,children:Object(p.jsx)(s.b,{to:"/settings",className:r,children:"Settings"})}),Object(p.jsx)("div",{className:b.a.item,children:Object(p.jsx)(s.b,{to:"/users",className:r,children:"Users"})}),Object(p.jsxs)("div",{className:b.a.activeFriends,children:[Object(p.jsx)("h3",{className:b.a.title,children:"Friends:"}),Object(p.jsx)(O,{friends:e.friends})]})]})};function v(){return Object(p.jsx)("div",{children:"News component"})}function w(){return Object(p.jsx)("div",{children:"Music component"})}function _(){return Object(p.jsx)("div",{children:"Settings component"})}var y=n(13),k=n(17),N=n.n(k),A=n(22),S=function(){return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(y.c,{children:[Object(p.jsx)("label",{htmlFor:"email",children:"Email"}),Object(p.jsxs)("div",{children:[Object(p.jsx)(y.b,{className:N.a.formInput,id:"email",name:"email",placeholder:"email",type:"email"}),Object(p.jsx)(y.a,{name:"email",component:"div",className:N.a.error})]}),Object(p.jsx)("label",{htmlFor:"password",children:"Password"}),Object(p.jsxs)("div",{children:[Object(p.jsx)(y.b,{className:N.a.formInput,id:"password",name:"password",type:"password",placeholder:"password"}),Object(p.jsx)(y.a,{name:"password",component:"div",className:N.a.error})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)(y.b,{className:N.a.checkbox,name:"rememberMe",type:"checkbox"}),Object(p.jsx)("label",{className:N.a.checkbox,htmlFor:"rememberMe",children:"remember me"})]}),Object(p.jsx)(A.a,{type:"submit",children:"Submit"})]})})},L=n(11),F=n.n(L),I=n(18),E=n(3),T="auth/SET_USER_DATA",C={id:null,login:null,email:null,isAuth:!1},H=n(27),P=function(e,t,n,a){return{type:T,payload:{email:e,id:t,login:n,isAuth:a}}},z=function(){return function(){var e=Object(I.a)(F.a.mark((function e(t){var n,a,r,s,c;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.a.getUserData();case 3:if(0!==(n=e.sent).data.resultCode){e.next=8;break}return a=n.data.data,r=a.email,s=a.id,c=a.login,t(P(r,s,c,!0)),e.abrupt("return",n);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.warn(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},G=n(59),R=n.n(G),q=function(){var e=Object(l.a)((function(e){return e.auth.isAuth})),t=Object(l.a)((function(e){return e.auth.id})),n=Object(u.c)();return e?Object(p.jsx)(o.a,{to:"/profile/".concat(t)}):Object(p.jsx)("div",{className:R.a.loginWrapper,children:Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Log in"}),Object(p.jsx)(y.d,{initialValues:{email:"",password:"",rememberMe:!1},onSubmit:function(e,t){var a=t.setSubmitting,r=e.email,s=e.password,c=e.rememberMe;n(function(e,t,n){return function(){var a=Object(I.a)(F.a.mark((function a(r){return F.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,H.a.login(e,t,n);case 3:0===a.sent.data.resultCode&&r(z()),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),console.warn(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}(r,s,c)),a(!1)},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Required",e.password||(t.password="Required"),t},children:Object(p.jsx)(S,{})})]})})},V=n(35),M=n(37),J=n(38),U=n(43),Y=n(42),B=n(32),Q=n.n(B),D=function(e){var t=e.isAuth,n=e.login,a=e.logoutHandler;return Object(p.jsxs)("header",{className:Q.a.header,children:[Object(p.jsx)("img",{className:Q.a.logo,src:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e0/Check_green_icon.svg/1200px-Check_green_icon.svg.png",alt:"logo"}),Object(p.jsx)("div",{className:Q.a.loginBlock,children:t?Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:n}),Object(p.jsx)(s.b,{to:"/login",children:Object(p.jsx)(A.a,{onClick:a,children:"Logout"})})]}):Object(p.jsx)(s.b,{to:"/login",children:Object(p.jsx)(A.a,{children:"Login"})})})]})},K=function(e){Object(U.a)(n,e);var t=Object(Y.a)(n);function n(){var e;Object(M.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).logoutHandler=function(){e.props.logoutTC()},e}return Object(J.a)(n,[{key:"render",value:function(){return Object(p.jsx)(D,Object(E.a)(Object(E.a)({},this.props),{},{logoutHandler:this.logoutHandler}))}}]),n}(i.a.Component),W=Object(u.b)((function(e){return{login:e.auth.login,isAuth:e.auth.isAuth}}),{getUserDataTC:z,logoutTC:function(){return function(){var e=Object(I.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.a.logout();case 3:0===e.sent.data.resultCode&&t(P(null,null,null,!1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}})(K),Z="app/INITIALIZED_SUCCESS",$={initialized:!1},X=function(e){return e.app.initialized},ee=function(e){return e.auth.id},te=(n(92),i.a.lazy((function(){return n.e(4).then(n.bind(null,108))}))),ne=i.a.lazy((function(){return n.e(3).then(n.bind(null,106))})),ae=i.a.lazy((function(){return n.e(5).then(n.bind(null,107))})),re=function(){var e=Object(l.a)(X),t=Object(l.a)(ee),n=Object(u.c)();Object(c.useEffect)((function(){n(function(){var e=Object(I.a)(F.a.mark((function e(t){var n;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t(z()),e.next=3,Promise.all([n]);case 3:t({type:Z});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[n]);var a=t?"/profile/".concat(t):"/login";return e?Object(p.jsxs)("div",{className:"app-wrapper",children:[Object(p.jsx)(W,{}),Object(p.jsx)(x,{}),Object(p.jsx)("div",{className:"app-wrapper-content",children:Object(p.jsx)(c.Suspense,{fallback:Object(p.jsx)(V.a,{}),children:Object(p.jsxs)(o.d,{children:[Object(p.jsx)(o.b,{path:"/",element:Object(p.jsx)(o.a,{to:a})}),Object(p.jsx)(o.b,{path:"/profile/:userId",element:Object(p.jsx)(ne,{})}),Object(p.jsx)(o.b,{path:"/login",element:Object(p.jsx)(q,{})}),Object(p.jsx)(o.b,{path:"/dialogs",element:Object(p.jsx)(te,{})}),Object(p.jsx)(o.b,{path:"/news",element:Object(p.jsx)(v,{})}),Object(p.jsx)(o.b,{path:"/music",element:Object(p.jsx)(w,{})}),Object(p.jsx)(o.b,{path:"/settings",element:Object(p.jsx)(_,{})}),Object(p.jsx)(o.b,{path:"/users",element:Object(p.jsx)(ae,{})})]})})})]}):Object(p.jsx)(V.a,{})},se=n(30),ce=n(60),ie=n(39),oe=n(40),ue=n(6),le={friends:[{id:Object(ue.a)(),name:"Alex",img:"https://sun9-52.userapi.com/impf/c850120/v850120142/de34f/-V0Lx1I09fo.jpg?size=2160x2160&quality=96&sign=e11d8ba5c927096811c14b692a8f67e0&type=album"},{id:Object(ue.a)(),name:"Sofa",img:"https://sun9-80.userapi.com/impg/gJeHyr8s0kj96H0LVEz1Gq7vHteh1QYV8_Kdow/FRSJlnhrNaY.jpg?size=878x627&quality=96&sign=00b60f8e76d747c622535e511da56ce4&type=album"},{id:Object(ue.a)(),name:"Oleg",img:"https://sun1.beltelecom-by-minsk.userapi.com/s/v1/ig1/r3RvNnQxvdb_L2EuFMLfbDCBxbtm8pL8xQKGYVNbvsmoCAxAOr_9Hyi1KkeIFbCVhrhQ_mvT.jpg?size=200x200&quality=96&crop=1,1,1917,1917&ava=1"}]},de=n(41),be=Object(se.b)({profilePage:oe.d,dialogsPage:ie.b,sidebar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le;return e},usersPage:de.g,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return Object(E.a)(Object(E.a)({},e),t.payload);default:return e}},app:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(E.a)(Object(E.a)({},e),{},{initialized:!0});default:return e}}}),je=Object(se.d)(be,Object(se.a)(ce.a));window.store=je;n(93);r.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(s.a,{children:Object(p.jsx)(u.a,{store:je,children:Object(p.jsx)(re,{})})})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.e760cfa4.chunk.js.map